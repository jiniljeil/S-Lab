<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Document</title></head><body><pre><span style="color: green">import </span>java.util.Arrays;</pre><pre><span style="color: green">import </span>java.util.ArrayList;</pre><pre>
</pre><pre><span style="color: green">public</span> <span style="color: green">class</span> <span style="color:blue">EightQueens</span> {
</pre><pre>
</pre><pre>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">void</span> <span style="color:blue">main</span>(String[] <span style="color:blue">args</span>) {
</pre><pre>			solveNQueens(<span style="color: #3B8CFA">8</span>);
</pre><pre>			ArrayList<<span style="color: red">char</span>[][]> solutions = getAllNQueens(<span style="color: #3B8CFA">8</span>);
</pre><pre>			System.<span style="color:orange">out</span>.<span style="color:orange">println</span>( solutions.<span style="color:orange">size</span>() );
</pre><pre>			<span style="color: green">for</span>( <span style="color: red">int</span> i = <span style="color: #3B8CFA">0</span>; i < solutions.<span style="color:orange">size</span>(); i++){
</pre><pre>				System.<span style="color:orange">out</span>.<span style="color:orange">println</span>(<span style="color: #FA6109">&#34;</span><span style="color: #FA6109">\</span><span style="color:#FA6109">n</span><span style="color: #FA6109">\</span><span style="color:#FA6109">nSolution</span><span style="color: #FA6109"> </span><span style="color: #FA6109">&#34;</span> + (i+<span style="color: #3B8CFA">1</span>));
</pre><pre>				<span style="color: green">if</span>( queensAreSafe(solutions.<span style="color:orange">get</span>(i)) )
</pre><pre>					printBoard(solutions.<span style="color:orange">get</span>(i));
</pre><pre>				<span style="color: green">else</span>
</pre><pre>					System.<span style="color:orange">out</span>.<span style="color:orange">println</span>(<span style="color: #FA6109">&#34;</span><span style="color:#FA6109">UH</span><span style="color: #FA6109"> </span><span style="color:#FA6109">OH</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109"> </span><span style="color:#FA6109">BETTER</span><span style="color: #FA6109"> </span><span style="color:#FA6109">FIX</span><span style="color: #FA6109"> </span><span style="color:#FA6109">IT</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">!</span><span style="color: #FA6109">&#34;</span>);
</pre><pre>
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">determine</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">chess</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">represented</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">by</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">a</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">safe</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">set</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">up</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"><</span><span style="color:#B0AD9C">p</span><span style="color: #B0AD9C">></span><span style="color:#B0AD9C">pre</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">null</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C">.</span><span style="color:#B0AD9C">length</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">></span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">0</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">a</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">square</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">matrix</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">(</span><span style="color:#B0AD9C">In</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">other</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">words</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">all</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">rows</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">in</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">have</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C">.</span><span style="color:#B0AD9C">length</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">columns</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">)</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">all</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">elements</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">of</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">'</span><span style="color:#B0AD9C">q</span><span style="color: #B0AD9C">'</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">or</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">'</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">'</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">'</span><span style="color:#B0AD9C">q</span><span style="color: #B0AD9C">'</span><span style="color:#B0AD9C">s</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">represent</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queens</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">'</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">'</span><span style="color:#B0AD9C">s</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">represent</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">open</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">spaces</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C"><</span><span style="color:#B0AD9C">br</span><span style="color: #B0AD9C">></span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"><</span><span style="color:#B0AD9C">p</span><span style="color: #B0AD9C">></span><span style="color:#B0AD9C">post</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">return</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">true</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">configuration</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">of</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">safe</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">that</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">no</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queen</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">can</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">attack</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">any</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">other</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queen</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">on</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">false</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">otherwise</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">@</span><span style="color:#B0AD9C">param</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">chessboard</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">@</span><span style="color:#B0AD9C">return</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">true</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">configuration</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">of</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">safe</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">that</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">no</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queen</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">can</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">attack</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">any</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">other</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queen</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">on</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">board</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">false</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">otherwise</span><span style="color: #B0AD9C">.</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C">&#47;</span>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">boolean</span> <span style="color:blue">queensAreSafe</span>(<span style="color: red">char</span>[][] <span style="color:blue">board</span>)
</pre><pre>	{	<span style="color: red">char</span>[] validChars = {<span style="color: #FA6109">&#39;</span><span style="color:#FA6109">q</span><span style="color: #FA6109">&#39;</span>, <span style="color: #FA6109">&#39;</span><span style="color: #FA6109">.</span><span style="color: #FA6109">&#39;</span>};
</pre><pre>		<span style="color: green">assert</span> (board != null) && (board.<span style="color:orange">length</span> > <span style="color: #3B8CFA">0</span>)
</pre><pre>				&& isSquare(board) && onlyContains(board, validChars)
</pre><pre>				: <span style="color: #FA6109">&#34;</span><span style="color:#FA6109">Violation</span><span style="color: #FA6109"> </span><span style="color:#FA6109">of</span><span style="color: #FA6109"> </span><span style="color:#FA6109">precondition</span><span style="color: #FA6109">:</span><span style="color: #FA6109"> </span><span style="color:#FA6109">queensAreSafe</span><span style="color: #FA6109">&#34;</span>;
</pre><pre>
</pre><pre>
</pre><pre>		<span style="color: green">return</span> <span style="color: green">true</span>;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> ArrayList<<span style="color: red">char</span>[][]> <span style="color:blue">getAllNQueens</span>(<span style="color: red">int</span> <span style="color:blue">size</span>){
</pre><pre>		ArrayList<<span style="color: red">char</span>[][]> solutions = <span style="color: green">new</span> ArrayList<<span style="color: red">char</span>[][]>();
</pre><pre>		<span style="color: red">char</span>[][] board = blankBoard(size);
</pre><pre>		solveAllNQueens(board, <span style="color: #3B8CFA">0</span>, solutions);
</pre><pre>		<span style="color: green">return</span> solutions;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">void</span> <span style="color:blue">solveAllNQueens</span>(<span style="color: red">char</span>[][] board, <span style="color: red">int</span> col, ArrayList<<span style="color: red">char</span>[][]> solutions){
</pre><pre>		<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">am</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">I</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">done</span><span style="color: #B0AD9C">?</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">so</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">add</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">this</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">solution</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">to</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">ArrayList</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">of</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">solutions</span><span style="color: #B0AD9C">
</span></pre><pre>		<span style="color: green">if</span>( col == board.<span style="color:orange">length</span>){
</pre><pre>			solutions.<span style="color:orange">add</span>( makeCopy(board));
</pre><pre>			<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">all</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">done</span><span style="color: #B0AD9C">
</span></pre><pre>		} <span style="color: green">else</span> {
</pre><pre>			<span style="color: green">for</span>(<span style="color: red">int</span> row = <span style="color: #3B8CFA">0</span>; row < board.<span style="color:orange">length</span>; row++){
</pre><pre>				<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">place</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queen</span><span style="color: #B0AD9C">
</span></pre><pre>				board[row][col] = <span style="color: #FA6109">&#39;</span><span style="color:#FA6109">q</span><span style="color: #FA6109">&#39;</span>;
</pre><pre>				<span style="color: green">if</span>( queensAreSafe(board) )
</pre><pre>					<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">safe</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">go</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">on</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">to</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">next</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">column</span><span style="color: #B0AD9C">
</span></pre><pre>					solveAllNQueens(board, col + <span style="color: #3B8CFA">1</span>, solutions);
</pre><pre>				board[row][col] = <span style="color: #FA6109">&#39;</span><span style="color: #FA6109">.</span><span style="color: #FA6109">&#39;</span>;
</pre><pre>			}
</pre><pre>		}
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">pre</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">mat</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">null</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">mat</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">rectangular</span><span style="color: #B0AD9C">
</span></pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">char</span>[][] <span style="color:blue">makeCopy</span>(<span style="color: red">char</span>[][] <span style="color:blue">mat</span>){
</pre><pre>		<span style="color: green">assert</span> mat != null;
</pre><pre>		<span style="color: red">char</span>[][] copy = <span style="color: green">new</span> <span style="color: red">char</span>[mat.<span style="color:orange">length</span>][mat[<span style="color: #3B8CFA">0</span>].<span style="color:orange">length</span>];
</pre><pre>		<span style="color: green">for</span>(<span style="color: red">int</span> r = <span style="color: #3B8CFA">0</span>; r < mat.<span style="color:orange">length</span>; r++)
</pre><pre>			<span style="color: green">for</span>(<span style="color: red">int</span> c = <span style="color: #3B8CFA">0</span>; c < mat[<span style="color: #3B8CFA">0</span>].<span style="color:orange">length</span>; c++)
</pre><pre>				copy[r][c] = mat[r][c];
</pre><pre>		<span style="color: green">return</span> copy;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">void</span> <span style="color:blue">printBoard</span>(<span style="color: red">char</span>[][] <span style="color:blue">board</span>){
</pre><pre>		<span style="color: green">for</span>(<span style="color: red">int</span> r = <span style="color: #3B8CFA">0</span>; r < board.<span style="color:orange">length</span>; r++){
</pre><pre>			<span style="color: green">for</span>(<span style="color: red">int</span> c = <span style="color: #3B8CFA">0</span>; c < board[r].<span style="color:orange">length</span>; c++)
</pre><pre>				System.<span style="color:orange">out</span>.<span style="color:orange">print</span>(board[r][c]);
</pre><pre>			System.<span style="color:orange">out</span>.<span style="color:orange">println</span>();
</pre><pre>		}
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">void</span> <span style="color:blue">solveNQueens</span>(<span style="color: red">int</span> <span style="color:blue">n</span>){
</pre><pre>		<span style="color: red">char</span>[][] board = blankBoard(n);
</pre><pre>		<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color:#B0AD9C">start</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">in</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">column</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">0</span><span style="color: #B0AD9C">
</span></pre><pre>		<span style="color: red">boolean</span> solved = canSolve(board, <span style="color: #3B8CFA">0</span>);
</pre><pre>		<span style="color: green">if</span>( solved ){
</pre><pre>			System.<span style="color:orange">out</span>.<span style="color:orange">println</span>(<span style="color: #FA6109">&#34;</span><span style="color:#FA6109">Solved</span><span style="color: #FA6109"> </span><span style="color:#FA6109">the</span><span style="color: #FA6109"> </span><span style="color: #FA6109">&#34;</span> + n + <span style="color: #FA6109">&#34;</span><span style="color: #FA6109"> </span><span style="color:#FA6109">queen</span><span style="color: #FA6109"> </span><span style="color:#FA6109">problem</span><span style="color: #FA6109">.</span><span style="color: #FA6109">&#34;</span>);
</pre><pre>			printBoard(board);
</pre><pre>		}
</pre><pre>		<span style="color: green">else</span>
</pre><pre>			System.<span style="color:orange">out</span>.<span style="color:orange">println</span>(<span style="color: #FA6109">&#34;</span><span style="color:#FA6109">Can</span><span style="color: #FA6109">&#39;</span><span style="color:#FA6109">t</span><span style="color: #FA6109"> </span><span style="color:#FA6109">solve</span><span style="color: #FA6109"> </span><span style="color:#FA6109">the</span><span style="color: #FA6109"> </span><span style="color: #FA6109">&#34;</span> + n + <span style="color: #FA6109">&#34;</span><span style="color: #FA6109"> </span><span style="color:#FA6109">queen</span><span style="color: #FA6109"> </span><span style="color:#FA6109">problem</span><span style="color: #FA6109">.</span><span style="color: #FA6109">&#34;</span>);
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: green">public</span> <span style="color: green">static</span> <span style="color: red">boolean</span>
</pre><pre>		canSolve(<span style="color: red">char</span>[][] board, <span style="color: red">int</span> col){
</pre><pre>
</pre><pre>
</pre><pre>		<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color:#B0AD9C">know</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">when</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">you</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">are</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">done</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">
</span></pre><pre>		<span style="color: green">if</span>( col == board.<span style="color:orange">length</span>)
</pre><pre>			<span style="color: green">return</span> <span style="color: green">true</span>; <span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">solved</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">
</span></pre><pre>
</pre><pre>		<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">not</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">done</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">try</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">all</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">rows</span><span style="color: #B0AD9C">
</span></pre><pre>		<span style="color: red">boolean</span> solved = false;
</pre><pre>		<span style="color: green">for</span>(<span style="color: red">int</span> row = <span style="color: #3B8CFA">0</span>; row < board.<span style="color:orange">length</span> && !solved; row++){
</pre><pre>			<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color:#B0AD9C">System</span><span style="color: #B0AD9C">.</span><span style="color:#B0AD9C">out</span><span style="color: #B0AD9C">.</span><span style="color:#B0AD9C">println</span><span style="color: #B0AD9C">(</span><span style="color:#B0AD9C">row</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">+</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">"</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">"</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">+</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">col</span><span style="color: #B0AD9C">)</span><span style="color: #B0AD9C">;</span><span style="color: #B0AD9C">
</span></pre><pre>			<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">place</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">queen</span><span style="color: #B0AD9C">
</span></pre><pre>			board[row][col] = <span style="color: #FA6109">&#39;</span><span style="color:#FA6109">q</span><span style="color: #FA6109">&#39;</span>;
</pre><pre>			<span style="color: green">if</span>( queensAreSafe(board) )
</pre><pre>				solved = canSolve(board, col + <span style="color: #3B8CFA">1</span>);
</pre><pre>			<span style="color: green">if</span>( !solved )
</pre><pre>				board[row][col] = <span style="color: #FA6109">&#39;</span><span style="color: #FA6109">.</span><span style="color: #FA6109">&#39;</span>;
</pre><pre>		}
</pre><pre>		<span style="color: green">return</span> solved; <span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#47;</span><span style="color:#B0AD9C">could</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">be</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">true</span><span style="color: #B0AD9C">(</span><span style="color:#B0AD9C">solved</span><span style="color: #B0AD9C">)</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">or</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">false</span><span style="color: #B0AD9C">(</span><span style="color:#B0AD9C">not</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">solved</span><span style="color: #B0AD9C">)</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">
</span></pre><pre>	}
</pre><pre>
</pre><pre>
</pre><pre>	<span style="color: green">private</span> <span style="color: green">static</span> <span style="color: red">char</span>[][] <span style="color:blue">blankBoard</span>(<span style="color: red">int</span> <span style="color:blue">size</span>){
</pre><pre>		<span style="color: red">char</span>[][] result = <span style="color: green">new</span> <span style="color: red">char</span>[size][size];
</pre><pre>		<span style="color: green">for</span>(<span style="color: red">int</span> r = <span style="color: #3B8CFA">0</span>; r < size; r++)
</pre><pre>			Arrays.<span style="color:orange">fill</span>(result[r], <span style="color: #FA6109">&#39;</span><span style="color: #FA6109">.</span><span style="color: #FA6109">&#39;</span>);
</pre><pre>		<span style="color: green">return</span> result;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: green">private</span> <span style="color: green">static</span> <span style="color: red">boolean</span> <span style="color:blue">inbounds</span>(<span style="color: red">int</span> row, <span style="color: red">int</span> col, <span style="color: red">char</span>[][] mat){
</pre><pre>		<span style="color: green">return</span> row >= <span style="color: #3B8CFA">0</span> && row < mat.<span style="color:orange">length</span> && col >= <span style="color: #3B8CFA">0</span> && col < mat[<span style="color: #3B8CFA">0</span>].<span style="color:orange">length</span>;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">pre</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">mat</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">null</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">post</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">return</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">true</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">mat</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">a</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">square</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">matrix</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">false</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">otherwise</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C">&#47;</span>
</pre><pre>	<span style="color: green">private</span> <span style="color: green">static</span> <span style="color: red">boolean</span> <span style="color:blue">isSquare</span>(<span style="color: red">char</span>[][] <span style="color:blue">mat</span>)
</pre><pre>	{	<span style="color: green">assert</span> mat != null : <span style="color: #FA6109">&#34;</span><span style="color:#FA6109">Violation</span><span style="color: #FA6109"> </span><span style="color:#FA6109">of</span><span style="color: #FA6109"> </span><span style="color:#FA6109">precondition</span><span style="color: #FA6109">:</span><span style="color: #FA6109"> </span><span style="color:#FA6109">isSquare</span><span style="color: #FA6109">&#34;</span>;
</pre><pre>
</pre><pre>		<span style="color: green">final</span> <span style="color: red">int</span> numRows = mat.<span style="color:orange">length</span>;
</pre><pre>		<span style="color: red">int</span> row = <span style="color: #3B8CFA">0</span>;
</pre><pre>		<span style="color: red">boolean</span> square = <span style="color: green">true</span>;
</pre><pre>		<span style="color: green">while</span>( square && row < numRows )
</pre><pre>		{	square = ( mat[row] != null) && (mat[row].<span style="color:orange">length</span> == numRows);
</pre><pre>			row++;
</pre><pre>		}
</pre><pre>		<span style="color: green">return</span> square;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">pre</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">mat</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">null</span><span style="color: #B0AD9C">,</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">valid</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">null</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">post</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">return</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">true</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">all</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">elements</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">in</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">mat</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">are</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">one</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">of</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">the</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">characters</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">in</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">valid</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C">&#47;</span>
</pre><pre>	<span style="color: green">private</span> <span style="color: green">static</span> <span style="color: red">boolean</span> <span style="color:blue">onlyContains</span>(<span style="color: red">char</span>[][] mat, <span style="color: red">char</span>[] valid)
</pre><pre>	{	<span style="color: green">assert</span> mat != null && valid != null : <span style="color: #FA6109">&#34;</span><span style="color:#FA6109">Violation</span><span style="color: #FA6109"> </span><span style="color:#FA6109">of</span><span style="color: #FA6109"> </span><span style="color:#FA6109">precondition</span><span style="color: #FA6109">:</span><span style="color: #FA6109"> </span><span style="color:#FA6109">onlyContains</span><span style="color: #FA6109">&#34;</span>;
</pre><pre>
</pre><pre>		<span style="color: red">int</span> row = <span style="color: #3B8CFA">0</span>;
</pre><pre>		<span style="color: red">int</span> col;
</pre><pre>		<span style="color: red">boolean</span> correct = <span style="color: green">true</span>;
</pre><pre>		<span style="color: green">while</span>( correct && row < mat.<span style="color:orange">length</span>)
</pre><pre>		{	col = <span style="color: #3B8CFA">0</span>;
</pre><pre>			<span style="color: green">while</span>(correct && col < mat[row].<span style="color:orange">length</span>)
</pre><pre>			{	correct = contains(valid, mat[row][col]);
</pre><pre>				col++;
</pre><pre>			}
</pre><pre>			row++;
</pre><pre>		}
</pre><pre>		<span style="color: green">return</span> correct;
</pre><pre>	}
</pre><pre>
</pre><pre>	<span style="color: #B0AD9C">&#47;</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">pre</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">list</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C">!</span><span style="color: #B0AD9C">=</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">null</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"> </span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">post</span><span style="color: #B0AD9C">:</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">return</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">true</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">if</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">c</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">is</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">in</span><span style="color: #B0AD9C"> </span><span style="color:#B0AD9C">list</span><span style="color: #B0AD9C">
</span></pre><pre><span style="color: #B0AD9C">	</span><span style="color: #B0AD9C">&#42;</span><span style="color: #B0AD9C">&#47;</span>
</pre><pre>	<span style="color: green">private</span> <span style="color: green">static</span> <span style="color: red">boolean</span> <span style="color:blue">contains</span>(<span style="color: red">char</span>[] list, <span style="color: red">char</span> c)
</pre><pre>	{	<span style="color: green">assert</span> ( list != null ) : <span style="color: #FA6109">&#34;</span><span style="color:#FA6109">Violation</span><span style="color: #FA6109"> </span><span style="color:#FA6109">of</span><span style="color: #FA6109"> </span><span style="color:#FA6109">precondition</span><span style="color: #FA6109">:</span><span style="color: #FA6109"> </span><span style="color:#FA6109">contains</span><span style="color: #FA6109">&#34;</span>;
</pre><pre>
</pre><pre>		<span style="color: red">boolean</span> found = false;
</pre><pre>		<span style="color: red">int</span> index = <span style="color: #3B8CFA">0</span>;
</pre><pre>		<span style="color: green">while</span>( !found && index < list.<span style="color:orange">length</span>)
</pre><pre>		{	found = list[index] == c;
</pre><pre>			index++;
</pre><pre>		}
</pre><pre>		<span style="color: green">return</span> found;
</pre><pre>	}
</pre><pre>
</pre><pre>}</pre>